<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml"
      lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
<div th:fragment="copy">


    <div class="col-12 bg-light border border-bottom-0 py-3">
        <h5 class="ps-3 m-0 first-table">All users</h5>
    </div>
    <div class="col-12 bg-body border px-3 py-3">

        <div th:switch="${employees}">
            <h2 th:case="null">No users yet!</h2>
            <div th:case="*" th:with="userId=2">
                <table class="table caption-top table-striped table-hover bg-body table-borderless border-top">
                    <caption></caption>
                    <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Department</th>
                        <th scope="col">Salary</th>
                        <th scope="col">Role</th>
                        <th scope="col">Edit</th>
                        <th scope="col">Delete</th>
                    </tr>
                    </thead>

                    <tbody>

                    <tr th:each="emp : ${employees}">
                        <td th:text="*{emp.id}"></td>
                        <td th:text="*{emp.name}"></td>
                        <td th:text="*{emp.surName}"></td>
                        <td th:text="*{emp.email}"></td>
                        <td th:text="*{emp.age}"></td>
                        <td th:text="*{emp.getPureRoles()}"></td>
                        <td>
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-th-rows="${emp}"
                                    th:attr="data-bs-target=${'#'+emp.id}"> Edit
                            </button>

                            <!-------------------------------------------------------------------------------------------------------------------->
                            <!-------------------------------------------------------------------------------------------------------------------->
                            <!-- Modal -->
                            <!-------------------------------------------------------------------------------------------------------------------->
                            <!-------------------------------------------------------------------------------------------------------------------->
                        </td>
                        <td>
                            <button class="btn btn-danger" th:href="@{/admin/employee-delete/{id}(id=${emp.id})}"
                                    onclick="window.location.href=(this.getAttribute('href'))">Delete
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <!-------------------------------------------------------------------------------------------------------------------->
                <!-------------------------------------------------------------------------------------------------------------------->
                <!-- Modal -->

                <!-------------------------------------------------------------------------------------------------------------------->
                <!-------------------th:attr="id=${employee.getId()}"------------------------------------------------------------------------------------------------->
            </div>
        </div>

        <div th:each="employee : ${employees}">

            <div th:insert="modal_update_user :: copy"></div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

</body>
</html>
